"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.pushpop = undefined;
exports._pushpop = _pushpop;

var _tester = require("../tester");

function _pushpop(_test, heapname, Heap, diffname, diff, n) {

	var title = "Heap pushpop (" + heapname + ", " + diffname + ", " + n + ")";

	_test(title, function (t) {

		var q, a, i, x, b;

		q = Heap(diff);
		a = [];

		if (length) t.deepEqual(q.length, 0, "check length zero");

		i = n;
		while (i--) {
			x = Math.random();
			q.push(x);
			a.push(x);
			if (length) t.deepEqual(q.length, a.length);
		}

		a.sort(diff);

		i = n;
		b = [];

		while (i--) {
			b.push(q.pop());
			if (length) t.deepEqual(q.length, i);
		}

		t.deepEqual(b, a, "check sorted");

		t.deepEqual(q.pop(), undefined, "2nd empty pop");

		if (length) t.deepEqual(q.length, 0, "check length zero");
	});
}

var pushpop = exports.pushpop = (0, _tester.tester)(_pushpop);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXJ0cy9wdXNocG9wLmpzIl0sIm5hbWVzIjpbIl9wdXNocG9wIiwiX3Rlc3QiLCJoZWFwbmFtZSIsIkhlYXAiLCJkaWZmbmFtZSIsImRpZmYiLCJuIiwidGl0bGUiLCJxIiwiYSIsImkiLCJ4IiwiYiIsImxlbmd0aCIsInQiLCJkZWVwRXF1YWwiLCJNYXRoIiwicmFuZG9tIiwicHVzaCIsInNvcnQiLCJwb3AiLCJ1bmRlZmluZWQiLCJwdXNocG9wIl0sIm1hcHBpbmdzIjoiOzs7Ozs7UUFFZ0JBLFEsR0FBQUEsUTs7QUFGaEI7O0FBRU8sU0FBU0EsUUFBVCxDQUFvQkMsS0FBcEIsRUFBMkJDLFFBQTNCLEVBQXFDQyxJQUFyQyxFQUEyQ0MsUUFBM0MsRUFBcURDLElBQXJELEVBQTJEQyxDQUEzRCxFQUErRDs7QUFFckUsS0FBTUMsMkJBQXlCTCxRQUF6QixVQUFzQ0UsUUFBdEMsVUFBbURFLENBQW5ELE1BQU47O0FBRUFMLE9BQU9NLEtBQVAsRUFBYyxhQUFLOztBQUVsQixNQUFJQyxDQUFKLEVBQU9DLENBQVAsRUFBVUMsQ0FBVixFQUFhQyxDQUFiLEVBQWdCQyxDQUFoQjs7QUFFQUosTUFBSUwsS0FBTUUsSUFBTixDQUFKO0FBQ0FJLE1BQUksRUFBSjs7QUFFQSxNQUFJSSxNQUFKLEVBQVlDLEVBQUVDLFNBQUYsQ0FBYVAsRUFBRUssTUFBZixFQUF1QixDQUF2QixFQUEwQixtQkFBMUI7O0FBRVpILE1BQUlKLENBQUo7QUFDQSxTQUFRSSxHQUFSLEVBQWM7QUFDYkMsT0FBSUssS0FBS0MsTUFBTCxFQUFKO0FBQ0FULEtBQUVVLElBQUYsQ0FBT1AsQ0FBUDtBQUNBRixLQUFFUyxJQUFGLENBQU9QLENBQVA7QUFDQSxPQUFJRSxNQUFKLEVBQVlDLEVBQUVDLFNBQUYsQ0FBYVAsRUFBRUssTUFBZixFQUF1QkosRUFBRUksTUFBekI7QUFDWjs7QUFFREosSUFBRVUsSUFBRixDQUFPZCxJQUFQOztBQUVBSyxNQUFJSixDQUFKO0FBQ0FNLE1BQUksRUFBSjs7QUFFQSxTQUFRRixHQUFSLEVBQWM7QUFDYkUsS0FBRU0sSUFBRixDQUFRVixFQUFFWSxHQUFGLEVBQVI7QUFDQSxPQUFJUCxNQUFKLEVBQVlDLEVBQUVDLFNBQUYsQ0FBYVAsRUFBRUssTUFBZixFQUF1QkgsQ0FBdkI7QUFDWjs7QUFFREksSUFBRUMsU0FBRixDQUFhSCxDQUFiLEVBQWdCSCxDQUFoQixFQUFtQixjQUFuQjs7QUFFQUssSUFBRUMsU0FBRixDQUFhUCxFQUFFWSxHQUFGLEVBQWIsRUFBc0JDLFNBQXRCLEVBQWlDLGVBQWpDOztBQUVBLE1BQUlSLE1BQUosRUFBWUMsRUFBRUMsU0FBRixDQUFhUCxFQUFFSyxNQUFmLEVBQXVCLENBQXZCLEVBQTBCLG1CQUExQjtBQUVaLEVBakNEO0FBbUNBOztBQUVNLElBQU1TLDRCQUFVLG9CQUFRdEIsUUFBUixDQUFoQiIsImZpbGUiOiJwdXNocG9wLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGVzdGVyIH0gZnJvbSAnLi4vdGVzdGVyJyA7XG5cbmV4cG9ydCBmdW5jdGlvbiBfcHVzaHBvcCAoIF90ZXN0LCBoZWFwbmFtZSwgSGVhcCwgZGlmZm5hbWUsIGRpZmYsIG4gKSB7XG5cblx0Y29uc3QgdGl0bGUgPSBgSGVhcCBwdXNocG9wICgke2hlYXBuYW1lfSwgJHtkaWZmbmFtZX0sICR7bn0pYDtcblxuXHRfdGVzdCggdGl0bGUsIHQgPT4ge1xuXG5cdFx0dmFyIHEsIGEsIGksIHgsIGI7XG5cblx0XHRxID0gSGVhcCggZGlmZiApO1xuXHRcdGEgPSBbXTtcblxuXHRcdGlmIChsZW5ndGgpIHQuZGVlcEVxdWFsKCBxLmxlbmd0aCwgMCwgXCJjaGVjayBsZW5ndGggemVyb1wiKTtcblxuXHRcdGkgPSBuO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0eCA9IE1hdGgucmFuZG9tKCk7XG5cdFx0XHRxLnB1c2goeCk7XG5cdFx0XHRhLnB1c2goeCk7XG5cdFx0XHRpZiAobGVuZ3RoKSB0LmRlZXBFcXVhbCggcS5sZW5ndGgsIGEubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0YS5zb3J0KGRpZmYpO1xuXG5cdFx0aSA9IG47XG5cdFx0YiA9IFtdO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRiLnB1c2goIHEucG9wKCkgKTtcblx0XHRcdGlmIChsZW5ndGgpIHQuZGVlcEVxdWFsKCBxLmxlbmd0aCwgaSApO1xuXHRcdH1cblxuXHRcdHQuZGVlcEVxdWFsKCBiLCBhLCBcImNoZWNrIHNvcnRlZFwiICk7XG5cblx0XHR0LmRlZXBFcXVhbCggcS5wb3AoKSwgdW5kZWZpbmVkLCBcIjJuZCBlbXB0eSBwb3BcIiApO1xuXG5cdFx0aWYgKGxlbmd0aCkgdC5kZWVwRXF1YWwoIHEubGVuZ3RoLCAwLCBcImNoZWNrIGxlbmd0aCB6ZXJvXCIgKTtcblxuXHR9KTtcblxufVxuXG5leHBvcnQgY29uc3QgcHVzaHBvcCA9IHRlc3RlciggX3B1c2hwb3AgKSA7XG4iXX0=