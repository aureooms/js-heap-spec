"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.popreference = undefined;
exports._popreference = _popreference;

var _tester = require("../tester");

function _popreference(_test, heapname, Heap, diffname, diff, n) {

	var title = "Heap popreference (" + heapname + ", " + diffname + ", " + n + ")";

	_test(title, function (t) {

		var q, a, i, x, b;

		q = Heap(diff);
		a = [];

		if (length) t.deepEqual(q.length, 0, "check length zero");

		i = n;
		while (i--) {
			x = Math.random();
			q.push(x);
			a.push(x);
			if (length) t.deepEqual(q.length, a.length);
		}

		i = n;
		b = [];

		while (i--) {
			b.push(q.popreference().value);
			if (length) t.deepEqual(q.length, i);
		}

		a.sort(diff);

		t.deepEqual(b, a, "check sorted");

		t.deepEqual(q.popreference(), null, "2nd empty pop");

		if (length) t.deepEqual(q.length, 0, "check length zero");
	});
}

var popreference = exports.popreference = (0, _tester.tester)(_popreference);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXJ0cy9wb3ByZWZlcmVuY2UuanMiXSwibmFtZXMiOlsiX3BvcHJlZmVyZW5jZSIsIl90ZXN0IiwiaGVhcG5hbWUiLCJIZWFwIiwiZGlmZm5hbWUiLCJkaWZmIiwibiIsInRpdGxlIiwicSIsImEiLCJpIiwieCIsImIiLCJsZW5ndGgiLCJ0IiwiZGVlcEVxdWFsIiwiTWF0aCIsInJhbmRvbSIsInB1c2giLCJwb3ByZWZlcmVuY2UiLCJ2YWx1ZSIsInNvcnQiXSwibWFwcGluZ3MiOiI7Ozs7OztRQUVnQkEsYSxHQUFBQSxhOztBQUZoQjs7QUFFTyxTQUFTQSxhQUFULENBQXlCQyxLQUF6QixFQUFnQ0MsUUFBaEMsRUFBMENDLElBQTFDLEVBQWdEQyxRQUFoRCxFQUEwREMsSUFBMUQsRUFBZ0VDLENBQWhFLEVBQW9FOztBQUUxRSxLQUFNQyxnQ0FBOEJMLFFBQTlCLFVBQTJDRSxRQUEzQyxVQUF3REUsQ0FBeEQsTUFBTjs7QUFFQUwsT0FBT00sS0FBUCxFQUFjLGFBQUs7O0FBRWxCLE1BQUlDLENBQUosRUFBT0MsQ0FBUCxFQUFVQyxDQUFWLEVBQWFDLENBQWIsRUFBZ0JDLENBQWhCOztBQUVBSixNQUFJTCxLQUFNRSxJQUFOLENBQUo7QUFDQUksTUFBSSxFQUFKOztBQUVBLE1BQUlJLE1BQUosRUFBWUMsRUFBRUMsU0FBRixDQUFhUCxFQUFFSyxNQUFmLEVBQXVCLENBQXZCLEVBQTBCLG1CQUExQjs7QUFFWkgsTUFBSUosQ0FBSjtBQUNBLFNBQVFJLEdBQVIsRUFBYztBQUNiQyxPQUFJSyxLQUFLQyxNQUFMLEVBQUo7QUFDQVQsS0FBRVUsSUFBRixDQUFPUCxDQUFQO0FBQ0FGLEtBQUVTLElBQUYsQ0FBT1AsQ0FBUDtBQUNBLE9BQUlFLE1BQUosRUFBWUMsRUFBRUMsU0FBRixDQUFhUCxFQUFFSyxNQUFmLEVBQXVCSixFQUFFSSxNQUF6QjtBQUNaOztBQUVESCxNQUFJSixDQUFKO0FBQ0FNLE1BQUksRUFBSjs7QUFFQSxTQUFRRixHQUFSLEVBQWM7QUFDYkUsS0FBRU0sSUFBRixDQUFRVixFQUFFVyxZQUFGLEdBQWlCQyxLQUF6QjtBQUNBLE9BQUlQLE1BQUosRUFBWUMsRUFBRUMsU0FBRixDQUFhUCxFQUFFSyxNQUFmLEVBQXVCSCxDQUF2QjtBQUNaOztBQUVERCxJQUFFWSxJQUFGLENBQU9oQixJQUFQOztBQUVBUyxJQUFFQyxTQUFGLENBQWFILENBQWIsRUFBZ0JILENBQWhCLEVBQW1CLGNBQW5COztBQUVBSyxJQUFFQyxTQUFGLENBQWFQLEVBQUVXLFlBQUYsRUFBYixFQUErQixJQUEvQixFQUFxQyxlQUFyQzs7QUFFQSxNQUFJTixNQUFKLEVBQVlDLEVBQUVDLFNBQUYsQ0FBYVAsRUFBRUssTUFBZixFQUF1QixDQUF2QixFQUEwQixtQkFBMUI7QUFFWixFQWpDRDtBQW1DQTs7QUFFTSxJQUFNTSxzQ0FBZSxvQkFBUW5CLGFBQVIsQ0FBckIiLCJmaWxlIjoicG9wcmVmZXJlbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGVzdGVyIH0gZnJvbSAnLi4vdGVzdGVyJyA7XG5cbmV4cG9ydCBmdW5jdGlvbiBfcG9wcmVmZXJlbmNlICggX3Rlc3QsIGhlYXBuYW1lLCBIZWFwLCBkaWZmbmFtZSwgZGlmZiwgbiApIHtcblxuXHRjb25zdCB0aXRsZSA9IGBIZWFwIHBvcHJlZmVyZW5jZSAoJHtoZWFwbmFtZX0sICR7ZGlmZm5hbWV9LCAke259KWA7XG5cblx0X3Rlc3QoIHRpdGxlLCB0ID0+IHtcblxuXHRcdHZhciBxLCBhLCBpLCB4LCBiO1xuXG5cdFx0cSA9IEhlYXAoIGRpZmYgKTtcblx0XHRhID0gW107XG5cblx0XHRpZiAobGVuZ3RoKSB0LmRlZXBFcXVhbCggcS5sZW5ndGgsIDAsIFwiY2hlY2sgbGVuZ3RoIHplcm9cIik7XG5cblx0XHRpID0gbjtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHggPSBNYXRoLnJhbmRvbSgpO1xuXHRcdFx0cS5wdXNoKHgpO1xuXHRcdFx0YS5wdXNoKHgpO1xuXHRcdFx0aWYgKGxlbmd0aCkgdC5kZWVwRXF1YWwoIHEubGVuZ3RoLCBhLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdGkgPSBuO1xuXHRcdGIgPSBbXTtcblxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Yi5wdXNoKCBxLnBvcHJlZmVyZW5jZSgpLnZhbHVlICk7XG5cdFx0XHRpZiAobGVuZ3RoKSB0LmRlZXBFcXVhbCggcS5sZW5ndGgsIGkgKTtcblx0XHR9XG5cblx0XHRhLnNvcnQoZGlmZik7XG5cblx0XHR0LmRlZXBFcXVhbCggYiwgYSwgXCJjaGVjayBzb3J0ZWRcIiApO1xuXG5cdFx0dC5kZWVwRXF1YWwoIHEucG9wcmVmZXJlbmNlKCksIG51bGwsIFwiMm5kIGVtcHR5IHBvcFwiICk7XG5cblx0XHRpZiAobGVuZ3RoKSB0LmRlZXBFcXVhbCggcS5sZW5ndGgsIDAsIFwiY2hlY2sgbGVuZ3RoIHplcm9cIiApO1xuXG5cdH0pO1xuXG59XG5cbmV4cG9ydCBjb25zdCBwb3ByZWZlcmVuY2UgPSB0ZXN0ZXIoIF9wb3ByZWZlcmVuY2UgKSA7XG4iXX0=