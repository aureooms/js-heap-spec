"use strict";!function(){var e=function(e,r){var t=require("util"),p=require("aureooms-js-compare"),o=require("aureooms-js-random"),a=require("aureooms-js-itertools"),n=require("aureooms-js-functools"),h=o.shuffle,c=function(e){return function(r){a.exhaust(a.map(n.chain([a.chain,a.list,n.partial(n.star,[e])]),a.product([r,[["increasing",p.increasing],["decreasing",p.decreasing]],[[1],[16],[17],[31],[32],[33],[63],[64],[65]]],1)))}},s=function(e){return function(r){a.exhaust(a.map(n.chain([a.chain,a.list,n.partial(n.star,[e])]),a.product([r,[["increasing",p.increasing],["decreasing",p.decreasing]],[[1],[16],[17],[31],[32],[33],[63],[64],[65]],[[1],[16],[17],[31],[32],[33],[63],[64],[65]]],1)))}},u=function(e){this.compare=function(r,t){return e(r.value,t.value)},this.array=[],this.length=0};u.Reference=function(e){this.value=e},u.prototype.head=function(){return 0===this.length?r:this.array[0].value},u.prototype.headreference=function(){return 0===this.length?null:this.array[0]},u.prototype.pop=function(){return 0===this.length?r:(--this.length,this.array.shift().value)},u.prototype.popreference=function(){return 0===this.length?null:(--this.length,this.array.shift())},u.prototype.push=function(e){var r=new u.Reference(e);return this.pushreference(r),r},u.prototype.pushreference=function(e){this.array.push(e),this.array.sort(this.compare),++this.length},u.prototype.merge=function(e){this.array=this.array.concat(e.array).sort(this.compare),this.length+=e.length},u.prototype.update=function(e,r){e.value=r,this.array.sort(this.compare)},u.prototype.decreasekey=u.prototype.update,u.prototype.increasekey=u.prototype.update,u.prototype["delete"]=function(e){this.array.splice(this.array.indexOf(e),1),--this.length},e.DummyHeap=u;var d=function(e){this.compare=e,this.array=[],this.length=0};d.prototype.head=function(){return 0===this.length?r:this.array[0]},d.prototype.pop=function(){return 0===this.length?r:(--this.length,this.array.shift())},d.prototype.push=function(e){this.array.push(e),this.array.sort(this.compare),++this.length},d.prototype.merge=function(e){this.array=this.array.concat(e.array).sort(this.compare),this.length+=e.length},e.DummyHeapWithoutReferences=d;var l=function(e,p,o,a,n){var c=t.format("Heap decreasekey (%s, %s, %d)",e,o,n);console.log(c),test(c,function(){var e,t,o,c,s,u,d;for(e=p(a),t=[],d=[],c=[],s=n;s--;)u=Math.random(),o=e.push(u),c.push(o),t.push(u);for(h(c,0,n),s=0;n>s;++s)t[s]-=Math.random(),e.decreasekey(c[s],t[s]);for(s=n;s--;)d.push(e.pop());t.sort(a),d.sort(a),deepEqual(d,t,"check identical"),deepEqual(e.length,0,"check length empty"),deepEqual(e.head(),r,"check head empty"),deepEqual(e.headreference(),null,"check headreference empty"),deepEqual(e.pop(),r,"check pop empty"),deepEqual(e.popreference(),null,"check popreference empty")})};e._decreasekey=l,e.decreasekey=c(l);var f=function(e,p,o,a,n){var c=t.format("Heap delete (%s, %s, %d)",e,o,n);console.log(c),test(c,function(){var e,t,o,c,s,u,d;for(e=p(a),t=[],d=[],c=[],s=n;s--;)u=Math.random(),o=e.push(u),c.push(o),t.push(u);for(h(c,0,n),s=0;n/2>s;++s)d.push(c[s].value),e["delete"](c[s]);for(;n>s;++s)d.push(e.pop());t.sort(a),d.sort(a),deepEqual(d,t,"check identical"),deepEqual(e.length,0,"check length empty"),deepEqual(e.head(),r,"check head empty"),deepEqual(e.headreference(),null,"check headreference empty"),deepEqual(e.pop(),r,"check pop empty"),deepEqual(e.popreference(),null,"check popreference empty")})};e._del=f,e.del=c(f);var i=function(e,p,o,a,n){var h=t.format("Heap head (%s, %s, %d)",e,o,n);console.log(h),test(h,function(){var e,t,o,h,c;for(e=p(a),t=[],o=n;o--;)h=Math.random(),e.push(h),t.push(h);for(o=n,c=[];o--;)c.push(e.head()),e.pop();t.sort(a),deepEqual(c,t,"check head sorted"),deepEqual(e.head(),r,"check head empty")})};e._head=i,e.head=c(i);var y=function(e,r,p,o,a){var n=t.format("Heap headreference (%s, %s, %d)",e,p,a);console.log(n),test(n,function(){var e,t,p,n,h;for(e=r(o),t=[],p=a;p--;)n=Math.random(),e.push(n),t.push(n);for(p=a,h=[];p--;)h.push(e.headreference().value),e.pop();t.sort(o),deepEqual(h,t,"check head reference sorted"),deepEqual(e.headreference(),null,"check head reference empty")})};e._headreference=y,e.headreference=c(y);var m=function(e,p,o,a,n){var c=t.format("Heap increasekey (%s, %s, %d)",e,o,n);console.log(c),test(c,function(){var e,t,o,c,s,u,d;for(e=p(a),t=[],d=[],c=[],s=n;s--;)u=Math.random(),o=e.push(u),c.push(o),t.push(u);for(h(c,0,n),s=0;n>s;++s)t[s]+=Math.random(),e.increasekey(c[s],t[s]);for(s=n;s--;)d.push(e.pop());t.sort(a),d.sort(a),deepEqual(d,t,"check identical"),deepEqual(e.length,0,"check length empty"),deepEqual(e.head(),r,"check head empty"),deepEqual(e.headreference(),null,"check headreference empty"),deepEqual(e.pop(),r,"check pop empty"),deepEqual(e.popreference(),null,"check popreference empty")})};e._increasekey=m,e.increasekey=c(m);var g=function(e,p,o,a,n,h){var c=t.format("Heap merge (%s, %s, %d, %d)",e,o,n,h);console.log(c),test(c,function(){var e,t,o,c,s,u,d;for(c=[],e=p(a),t=p(a),o=p(a),deepEqual(e.pop(),r,"1st empty pop"),u=n;u--;)s=Math.random(),t.push(s),c.push(s);for(u=h;u--;)s=Math.random(),o.push(s),c.push(s);for(c.sort(a),e.merge(t),e.merge(o),u=n+h,d=[];u--;)d.push(e.pop());deepEqual(d,c,"check sorted"),deepEqual(e.pop(),r,"2nd empty pop"),deepEqual(e.length,0,"queue empty")})};e._merge=g,e.merge=s(g);var q=function(e,r,p,o,a){var n=t.format("Heap popreference (%s, %s, %d)",e,p,a);console.log(n),test(n,function(){var e,t,p,n,h;for(e=r(o),t=[],p=a;p--;)n=Math.random(),e.push(n),t.push(n);for(p=a,h=[];p--;)h.push(e.popreference().value);t.sort(o),deepEqual(h,t,"check sorted"),deepEqual(e.popreference(),null,"2nd empty pop"),deepEqual(e.length,0,"queue empty")})};e._popreference=q,e.popreference=c(q);var k=function(e,p,o,a,n){var h=t.format("Heap pushpop (%s, %s, %d)",e,o,n);console.log(h),test(h,function(){var e,t,o,h,c;for(e=p(a),t=[],o=n;o--;)h=Math.random(),e.push(h),t.push(h);for(t.sort(a),o=n,c=[];o--;)c.push(e.pop());deepEqual(c,t,"check sorted"),deepEqual(e.pop(),r,"2nd empty pop"),deepEqual(e.length,0,"queue empty")})};e._pushpop=k,e.pushpop=c(k);var v=function(e,r,p,o,a){var n=t.format("Heap pushreference (%s, %s, %d)",e,p,a);console.log(n),test(n,function(){var e,t,p,n,c;for(e=r(o),t=[],p=a;p--;)n=Math.random(),e.push(n),t.push(n);for(c=[],p=a;p--;)c.push(e.popreference());for(h(c,0,a),p=a;p--;)e.pushreference(c.pop());for(p=a;p--;)c.push(e.popreference().value);t.sort(o),deepEqual(c,t,"check sorted"),deepEqual(e.popreference(),null,"2nd empty pop"),deepEqual(e.length,0,"queue empty")})};e._pushreference=v,e.pushreference=c(v);var E=function(e,p,o,a,n){var c=t.format("Heap update (%s, %s, %d)",e,o,n);console.log(c),test(c,function(){var e,t,o,c,s,u,d;for(e=p(a),t=[],d=[],c=[],s=n;s--;)u=Math.random(),o=e.push(u),c.push(o),t.push(u);for(h(c,0,n),s=0;n>s;++s)t[s]+=Math.random()-.5,e.update(c[s],t[s]),e.update(c[s],t[s]);for(s=n;s--;)d.push(e.pop());t.sort(a),deepEqual(d,t,"check identical"),deepEqual(e.length,0,"check length empty"),deepEqual(e.head(),r,"check head empty"),deepEqual(e.headreference(),null,"check headreference empty"),deepEqual(e.pop(),r,"check pop empty"),deepEqual(e.popreference(),null,"check popreference empty")})};return e._update=E,e.update=c(E),e.test=function(r,t){e.head(r),e.pushpop(r),e.merge(r),t&&(e.update(r),e.decreasekey(r),e.increasekey(r),e.del(r),e.headreference(r),e.popreference(r),e.pushreference(r))},e};"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define("aureooms-js-heap-spec",[],function(){return e({})}):"object"==typeof window&&"object"==typeof window.document?e(window.heapspec={}):console.error("unable to detect type of module to define for aureooms-js-heap-spec")}();
//# sourceMappingURL=js/dist/heap-spec.js.map